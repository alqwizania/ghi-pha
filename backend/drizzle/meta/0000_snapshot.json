{
  "id": "870d48bf-887f-4774-96e0-38d0c03a1c42",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "6",
  "dialect": "postgresql",
  "tables": {
    "public.assessments": {
      "name": "assessments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "signal_id": {
          "name": "signal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_type": {
          "name": "assessment_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "ihr_question_1": {
          "name": "ihr_question_1",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "ihr_question_1_notes": {
          "name": "ihr_question_1_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ihr_question_2": {
          "name": "ihr_question_2",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "ihr_question_2_notes": {
          "name": "ihr_question_2_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ihr_question_3": {
          "name": "ihr_question_3",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "ihr_question_3_notes": {
          "name": "ihr_question_3_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ihr_question_4": {
          "name": "ihr_question_4",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "ihr_question_4_notes": {
          "name": "ihr_question_4_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ihr_decision": {
          "name": "ihr_decision",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "rra_hazard_assessment": {
          "name": "rra_hazard_assessment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rra_exposure_assessment": {
          "name": "rra_exposure_assessment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rra_context_assessment": {
          "name": "rra_context_assessment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rra_overall_risk": {
          "name": "rra_overall_risk",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "rra_confidence_level": {
          "name": "rra_confidence_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "rra_key_uncertainties": {
          "name": "rra_key_uncertainties",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rra_recommendations": {
          "name": "rra_recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Draft'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_decision": {
          "name": "outcome_decision",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_justification": {
          "name": "outcome_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "assessments_signal_id_signals_id_fk": {
          "name": "assessments_signal_id_signals_id_fk",
          "tableFrom": "assessments",
          "tableTo": "signals",
          "columnsFrom": [
            "signal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.escalations": {
      "name": "escalations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "signal_id": {
          "name": "signal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_id": {
          "name": "assessment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "escalation_level": {
          "name": "escalation_level",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Director'"
        },
        "priority": {
          "name": "priority",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "escalation_reason": {
          "name": "escalation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recommended_actions": {
          "name": "recommended_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "director_status": {
          "name": "director_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Pending Review'"
        },
        "director_decision": {
          "name": "director_decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "director_notes": {
          "name": "director_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actions_taken": {
          "name": "actions_taken",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_at": {
          "name": "escalated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "escalated_by": {
          "name": "escalated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "escalations_signal_id_signals_id_fk": {
          "name": "escalations_signal_id_signals_id_fk",
          "tableFrom": "escalations",
          "tableTo": "signals",
          "columnsFrom": [
            "signal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "escalations_assessment_id_assessments_id_fk": {
          "name": "escalations_assessment_id_assessments_id_fk",
          "tableFrom": "escalations",
          "tableTo": "assessments",
          "columnsFrom": [
            "assessment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.listener_keywords": {
      "name": "listener_keywords",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "keyword": {
          "name": "keyword",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "language": {
          "name": "language",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.monitored_accounts": {
      "name": "monitored_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "platform": {
          "name": "platform",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'twitter'"
        },
        "account_handle": {
          "name": "account_handle",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "account_name": {
          "name": "account_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "monitored_accounts_account_handle_unique": {
          "name": "monitored_accounts_account_handle_unique",
          "nullsNotDistinct": false,
          "columns": [
            "account_handle"
          ]
        }
      }
    },
    "public.signals": {
      "name": "signals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "beacon_event_id": {
          "name": "beacon_event_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "raw_data": {
          "name": "raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "disease": {
          "name": "disease",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "date_reported": {
          "name": "date_reported",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "date_onset": {
          "name": "date_onset",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "cases": {
          "name": "cases",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "deaths": {
          "name": "deaths",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "case_fatality_rate": {
          "name": "case_fatality_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outbreak_status": {
          "name": "outbreak_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "triage_status": {
          "name": "triage_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Pending Triage'"
        },
        "triaged_by": {
          "name": "triaged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "triaged_at": {
          "name": "triaged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "triage_notes": {
          "name": "triage_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority_score": {
          "name": "priority_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "gcc_relevant": {
          "name": "gcc_relevant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "saudi_risk_level": {
          "name": "saudi_risk_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "current_status": {
          "name": "current_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'New'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_beacon_sync": {
          "name": "last_beacon_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "signals_beacon_event_id_unique": {
          "name": "signals_beacon_event_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "beacon_event_id"
          ]
        }
      }
    },
    "public.social_signals": {
      "name": "social_signals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "platform": {
          "name": "platform",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'twitter'"
        },
        "post_id": {
          "name": "post_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "author": {
          "name": "author",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "author_handle": {
          "name": "author_handle",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "language": {
          "name": "language",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "location": {
          "name": "location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "hashtags": {
          "name": "hashtags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "mentions": {
          "name": "mentions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "urls": {
          "name": "urls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "engagement": {
          "name": "engagement",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"likes\":0,\"retweets\":0,\"replies\":0}'::jsonb"
        },
        "detected_keywords": {
          "name": "detected_keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "relevance_score": {
          "name": "relevance_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "verification_status": {
          "name": "verification_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Pending'"
        },
        "related_signal_id": {
          "name": "related_signal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "promoted_at": {
          "name": "promoted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "promoted_by": {
          "name": "promoted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_dismissed": {
          "name": "is_dismissed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "social_signals_related_signal_id_signals_id_fk": {
          "name": "social_signals_related_signal_id_signals_id_fk",
          "tableFrom": "social_signals",
          "tableTo": "signals",
          "columnsFrom": [
            "related_signal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "social_signals_promoted_by_users_id_fk": {
          "name": "social_signals_promoted_by_users_id_fk",
          "tableFrom": "social_signals",
          "tableTo": "users",
          "columnsFrom": [
            "promoted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "social_signals_post_id_unique": {
          "name": "social_signals_post_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "post_id"
          ]
        }
      }
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "full_name": {
          "name": "full_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'Analyst'"
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"dashboard\":\"view\",\"triage\":\"view\",\"assessment\":\"view\",\"escalation\":\"view\"}'::jsonb"
        },
        "last_login": {
          "name": "last_login",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      }
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}